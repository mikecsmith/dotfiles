# .zshenv configuration for XDG Base Directory Specification
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CACHE_HOME="$HOME/.cache"

# Set the history file location
export HISTFILE="$XDG_DATA_HOME/zsh/.zsh_history"

# Set the session file location (if using sessions)
export ZSH_SESSION_DIR="$XDG_DATA_HOME/zsh/sessions"

# Set the cache directory for Zsh (e.g., for zcompdump)
export ZSH_CACHE_DIR="$XDG_CACHE_HOME/zsh"

. "$HOME/.cargo/env"

# Moved to .zshenv as its evaluated by tools which spawn child shells and provides them access to brew/mise bins
if [[ -x "/opt/homebrew/bin/brew" ]]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
elif [[ -x "/home/linuxbrew/.linuxbrew/bin/brew" ]]; then
  eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

if command -v mise >/dev/null 2>&1; then
  eval "$(mise activate zsh)"
fi
